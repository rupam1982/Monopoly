<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monopoly Asset Assignment</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
    <div class="container">
        <header>
            <h1>Monopoly Property Management</h1>
            <p class="subtitle">Assign assets and track player ownership</p>
            <button id="start-game-btn" class="btn-start-game">Start Game</button>
        </header>

        <main>
            <!-- Asset Assignment Section -->
            <section class="assignment-section">
                <h2>Player Property Action</h2>

                <div class="input-group">
                    <div class="input-field">
                        <label for="player-select">Player</label>
                        <select id="player-select" class="dropdown">
                            <option value="">-- Select Player --</option>
                        </select>
                        <input type="text" id="player-input" class="player-input" placeholder="Enter new player name">
                    </div>

                    <div class="input-field">
                        <label for="area-select">Area (Street)</label>
                        <select id="area-select" class="dropdown" disabled>
                            <option value="">-- Select Area --</option>
                        </select>
                    </div>

                    <div class="input-field">
                        <label for="asset-select">Property</label>
                        <select id="asset-select" class="dropdown" disabled>
                            <option value="">-- Select Property --</option>
                        </select>
                    </div>

                    <div class="input-field">
                        <label for="houses-select">Houses</label>
                        <select id="houses-select" class="dropdown" disabled>
                            <option value="">-- Select Houses --</option>
                            <option value="0">0 Houses</option>
                            <option value="1">1 House</option>
                            <option value="2">2 Houses</option>
                            <option value="3">3 Houses</option>
                            <option value="4">4 Houses</option>
                        </select>
                    </div>
                </div>

                <div class="button-group">
                    <button id="assign-btn" class="btn btn-primary" disabled>Buy Property</button>
                    <button id="pay-rent-btn" class="btn btn-warning" disabled style="display: none;">Pay Rent</button>
                    <span id="rent-message" class="rent-message"></span>
                    <button id="reset-btn" class="btn btn-secondary">Reset</button>
                </div>

                <div id="message-area" class="message-area" style="display: none;">
                    <div id="message-content"></div>
                </div>

                <!-- Error Details Box -->
                <div id="error-details-box" class="error-details-box" style="display: none;">
                    <div class="error-header">
                        <span>‚ö†Ô∏è Error Details</span>
                        <button id="close-error-box" class="close-btn">&times;</button>
                    </div>
                    <div id="error-details-content" class="error-content"></div>
                </div>

                <!-- Python Output Box -->
                <div id="python-output-box" class="python-output-box" style="display: none;">
                    <div class="output-header">
                        <span>üêç Python Output</span>
                        <button id="close-output-box" class="close-btn">&times;</button>
                    </div>
                    <div id="python-output-content" class="output-content"></div>
                </div>
            </section>

            <!-- Database State Section -->
            <section class="database-section">
                <h2>Player Property Inventory</h2>
                <div class="database-viewer">
                    <div class="db-panel">
                        <div id="player-db-content" class="db-content">
                            <p class="loading">Loading...</p>
                        </div>
                    </div>
                </div>
                <button id="refresh-btn" class="btn btn-secondary">Refresh Database</button>
            </section>
        </main>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>

</html>